/**
 * Intelligent Image Distribution System
 * 
 * This module provides smart image distribution across 1,224 silo pages
 * ensuring no duplicate images on any single page and optimal variety.
 */

// ============================================
// Complete Image Inventory by Category
// ============================================

// Cleaning Images (159 total)
export const CLEANING_IMAGES = {
    // Home Cleaning
    home: [
        '/images/cleaning/home_cleaning_services_riyadh.jpg',
        '/images/cleaning/house_deep_cleaning_jeddah.jpg',
        '/images/cleaning/home_cleaning_and_sterilization.jpg',
        '/images/cleaning/home_garden_cleaning_services.jpg',
    ],
    // Villa Cleaning
    villa: [
        '/images/cleaning/villa_cleaning_services_riyadh.jpg',
        '/images/cleaning/villa_cleaning_team_riyadh.jpg',
    ],
    // Apartment Cleaning
    apartment: [
        '/images/cleaning/apartment_cleaning_services_riyadh.jpg',
        '/images/cleaning/residential_apartment_cleaning.jpg',
    ],
    // Sofa/Furniture Cleaning
    sofa: [
        '/images/cleaning/sofa_cleaning_services_jeddah.jpg',
        '/images/cleaning/deep_sofa_cleaning_services.jpg',
        '/images/cleaning/sofa_shampoo_cleaning_services.jpg',
        '/images/cleaning/steam_sofa_cleaning_jeddah.jpg',
        '/images/cleaning/sofa_cushion_washing.jpg',
    ],
    // Carpet Cleaning
    carpet: [
        '/images/cleaning/carpet_cleaning_company_riyadh.jpg',
        '/images/cleaning/carpet_cleaning_services_dammam.jpg',
        '/images/cleaning/steam_carpet_washing.jpg',
        '/images/cleaning/shampoo_carpet_washing.jpg',
        '/images/cleaning/manual_carpet_scrubbing.jpg',
    ],
    // Floor/Tile Cleaning
    floor: [
        '/images/cleaning/floor_cleaning_and_polishing_service.jpg',
        '/images/cleaning/floor_mopping_services_riyadh.jpg',
        '/images/cleaning/tile_polishing_services_riyadh.jpg',
        '/images/cleaning/tile_and_ceramic_polishing.jpg',
        '/images/cleaning/shop_floor_tile_polishing.jpg',
        '/images/cleaning/floor_scrubbing_with_brush.jpg',
        '/images/cleaning/kitchen_floor_mopping.jpg',
        '/images/cleaning/modern_floor_mop.jpg',
    ],
    // Marble Polishing
    marble: [
        '/images/cleaning/marble_floor_polishing_services.jpg',
        '/images/cleaning/marble_polishing_and_grinding_riyadh.jpg',
        '/images/cleaning/marble_polishing_machine.jpg',
        '/images/cleaning/kitchen_marble_polishing.jpg',
        '/images/cleaning/marble_surface_disinfection.jpg',
        '/images/cleaning/ceramic_polishing_services_riyadh.jpg',
    ],
    // Office Cleaning
    office: [
        '/images/cleaning/office_cleaning_services_saudi_arabia.jpg',
        '/images/cleaning/corporate_office_cleaning_services.jpg',
        '/images/cleaning/office_cleaner_worker.jpg',
        '/images/cleaning/workplace_office_sterilization.jpg',
        '/images/cleaning/file_shelf_cleaning_office.jpg',
        '/images/cleaning/office_chair_washing.jpg',
    ],
    // Kitchen Cleaning
    kitchen: [
        '/images/cleaning/kitchen_deep_cleaning_service.jpg',
        '/images/cleaning/kitchen_cleaning_maid_riyadh.jpg',
        '/images/cleaning/oven_grease_removal_cleaning.jpg',
        '/images/cleaning/gas_oven_cleaning_services.jpg',
        '/images/cleaning/dining_table_wiping.jpg',
    ],
    // Bathroom Cleaning
    bathroom: [
        '/images/cleaning/bathroom_deep_cleaning_riyadh.jpg',
        '/images/cleaning/bathroom_decor_cleaning.jpg',
        '/images/cleaning/water_faucet_polishing.jpg',
    ],
    // Tank Cleaning
    tank: [
        '/images/cleaning/water_tank_cleaning_saudi_arabia.jpg',
    ],
    // AC Cleaning
    ac: [
        '/images/cleaning/ac_cleaning_and_maintenance_services.jpg',
    ],
    // Glass/Facade Cleaning
    glass: [
        '/images/cleaning/glass_facade_cleaning_riyadh.jpg',
        '/images/cleaning/building_facade_washing.jpg',
        '/images/cleaning/high_rise_facade_cleaning.jpg',
        '/images/cleaning/building_glass_cleaning.jpg',
        '/images/cleaning/glass_cleaning_worker.jpg',
    ],
    // Sterilization/Sanitization
    sterilization: [
        '/images/cleaning/comprehensive_sterilization_services.jpg',
        '/images/cleaning/home_sterilization_company_riyadh.jpg',
        '/images/cleaning/disinfection_and_sanitization_services.jpg',
        '/images/cleaning/door_knob_sterilization_cleaning.jpg',
        '/images/cleaning/hospital_bed_sterilization_services.jpg',
        '/images/cleaning/hospital_cleaning_cart.jpg',
    ],
    // Pool Cleaning
    pool: [
        '/images/cleaning/swimming_pool_cleaning.jpg',
    ],
    // Majlis/Council Cleaning
    majlis: [
        '/images/cleaning/arabic_majlis_cleaning.jpg',
    ],
    // Hourly Cleaning
    hourly: [
        '/images/cleaning/hourly_cleaning_maids.jpg',
        '/images/cleaning/hourly_maid_services_riyadh.jpg',
    ],
    // Restaurant Cleaning
    restaurant: [
        '/images/cleaning/restaurant_kitchen_cleaning_hygiene.jpg',
        '/images/cleaning/restaurant_cleaning_services_riyadh.jpg',
    ],
    // Commercial Cleaning
    commercial: [
        '/images/cleaning/commercial_cleaning_services_saudi.jpg',
        '/images/cleaning/professional_cleaning_company_saudi.jpg',
        '/images/cleaning/cleaning_services_company_provider.jpg',
        '/images/cleaning/maintenance_and_cleaning_company.jpg',
        '/images/cleaning/factory_and_pharma_cleaning.jpg',
        '/images/cleaning/general_cleaning_tools_and_supplies.jpg',
        '/images/cleaning/cleaning_supplies_basket.jpg',
    ],
    // Steam Cleaning
    steam: [
        '/images/cleaning/steam_carpet_washing.jpg',
        '/images/cleaning/steam_sofa_cleaning_jeddah.jpg',
        '/images/cleaning/steam_wall_cleaning_services.jpg',
    ],
    // Mattress Cleaning
    mattress: [
        '/images/cleaning/mattress_cleaning_services_jeddah.jpg',
    ],
    // Courtyard/Outdoor Cleaning
    outdoor: [
        '/images/cleaning/courtyard_cleaning_services_riyadh.jpg',
        '/images/cleaning/pressure_washing_courtyards.jpg',
        '/images/cleaning/street_and_yard_sweeping.jpg',
    ],
};

// Furniture Moving Images (47 total)
export const FURNITURE_MOVING_IMAGES = {
    // General Moving
    general: [
        '/images/furniture-moving/furniture-movers-saudi-truck-loading-sofa.jpg',
        '/images/furniture-moving/professional-packers-movers-riyadh-wrapped-chair.jpg',
        '/images/furniture-moving/furniture-moving-saudi-paintings-carpet-boxes.jpg',
    ],
    // Villa Moving
    villa: [
        '/images/furniture-moving/villa-furniture-moving-company-saudi-truck-packing.jpg',
        '/images/furniture-moving/villa-furniture-moving-riyadh-truck-sofa-home-furniture.jpg',
        '/images/furniture-moving/villa-furniture-moving-jeddah-professional-team-palm-trees.jpg',
    ],
    // Affordable/Cheap Moving
    affordable: [
        '/images/furniture-moving/affordable-furniture-moving-company-riyadh-living-room-sofa.jpg',
        '/images/furniture-moving/cheap-furniture-moving-riyadh-sofa-truck-loading.jpg',
    ],
    // Professional Moving
    professional: [
        '/images/furniture-moving/best-furniture-moving-company-jeddah-box-packing.jpg',
        '/images/furniture-moving/professional-furniture-moving-team-jeddah-black-sofa.jpg',
        '/images/furniture-moving/guaranteed-furniture-moving-riyadh-luxury-living-room.jpg',
        '/images/furniture-moving/insured-furniture-moving-company-jeddah-sofa-wrapping.jpg',
    ],
    // Storage
    storage: [
        '/images/furniture-moving/furniture-moving-storage-riyadh-cabinets-chairs.jpg',
        '/images/furniture-moving/moving-storage-company-riyadh-boxes-chairs-lighting.jpg',
    ],
    // Trucks/Dyna
    trucks: [
        '/images/furniture-moving/truck-rental-furniture-moving-jeddah-carpet-packing.jpg',
        '/images/furniture-moving/movers-packers-jeddah-truck-residential-compound.jpg',
        '/images/furniture-moving/furniture-moving-company-dammam-yellow-sofa-wrapping.jpg',
    ],
    // Intercity/Long Distance
    intercity: [
        '/images/furniture-moving/intercity-furniture-moving-saudi-boxes-sofa.jpg',
        '/images/furniture-moving/long-distance-furniture-moving-saudi-living-room.jpg',
        '/images/furniture-moving/international-moving-saudi-gray-sofa-boxes.jpg',
    ],
    // Same Day/Fast
    fast: [
        '/images/furniture-moving/same-day-furniture-moving-jeddah-box-packing.jpg',
        '/images/furniture-moving/24-hour-furniture-moving-service-jeddah-box-packing.jpg',
    ],
    // Office Moving
    office: [
        '/images/furniture-moving/office-furniture-moving-riyadh-chairs-boxes.jpg',
        '/images/furniture-moving/corporate-office-moving-riyadh-wrapped-sofa-truck.jpg',
    ],
    // Packing/Wrapping
    packing: [
        '/images/furniture-moving/box-packing-tape-furniture-moving-riyadh.jpg',
        '/images/furniture-moving/furniture-wrapping-service-jeddah-sofa-protection.jpg',
        '/images/furniture-moving/residential-commercial-moving-riyadh-bubble-wrap.jpg',
    ],
    // Disassembly/Assembly
    assembly: [
        '/images/furniture-moving/furniture-disassembly-assembly-riyadh-professional-workers.jpg',
    ],
    // Home Moving
    home: [
        '/images/furniture-moving/home-furniture-moving-jeddah-carpet-boxes-truck.jpg',
        '/images/furniture-moving/home-moving-assistance-riyadh-washing-machine-sofa.jpg',
        '/images/furniture-moving/door-to-door-furniture-moving-jeddah-fridge-drawer.jpg',
    ],
    // Heavy Furniture
    heavy: [
        '/images/furniture-moving/heavy-furniture-moving-jeddah-sofa-truck.jpg',
        '/images/furniture-moving/commercial-furniture-moving-dammam-wrapped-truck.jpg',
    ],
    // Company Images
    company: [
        '/images/furniture-moving/furniture-moving-company-riyadh-shelves-cabinet.jpg',
    ],
};

// Pest Control Images (82 total)
export const PEST_CONTROL_IMAGES = {
    // General Pest Control
    general: [
        '/images/pest-control/pest-control-saudi-arabia.jpg',
        '/images/pest-control/pest-control-riyadh.jpg',
        '/images/pest-control/pest-control-jeddah.jpg',
        '/images/pest-control/pest-control-dammam.jpg',
        '/images/pest-control/pest-control-company-saudi-arabia-best.jpg',
        '/images/pest-control/pest-control-experts-riyadh.jpg',
    ],
    // Fumigation
    fumigation: [
        '/images/pest-control/fumigation-services-ksa.jpg',
        '/images/pest-control/fumigation-company-riyadh.jpg',
        '/images/pest-control/fumigation-team-dammam-home.jpg',
        '/images/pest-control/fumigation-specialist-ksa-professional.jpg',
        '/images/pest-control/fumigation-riyadh-kitchen-smoke.jpg',
        '/images/pest-control/kitchen-fumigation-riyadh-cabinet.jpg',
    ],
    // Spraying
    spraying: [
        '/images/pest-control/pest-spray-technician-riyadh.jpg',
        '/images/pest-control/insect-spraying-riyadh-baseboard.jpg',
        '/images/pest-control/insect-spraying-jeddah-home.jpg',
        '/images/pest-control/pest-spray-jeddah-kitchen-sink.jpg',
    ],
    // Termite Control
    termite: [
        '/images/pest-control/termite-control-riyadh.jpg',
        '/images/pest-control/termite-treatment-saudi-arabia.jpg',
        '/images/pest-control/white-ants-treatment-saudi.jpg',
        '/images/pest-control/termite-treatment-riyadh-indoor.jpg',
        '/images/pest-control/termite-treatment-ksa-baseboard.jpg',
    ],
    // Cockroach Control
    cockroach: [
        '/images/pest-control/cockroach-control-saudi-wall.jpg',
        '/images/pest-control/cockroach-extermination-riyadh.jpg',
        '/images/pest-control/cockroach-treatment-jeddah-kitchen.jpg',
    ],
    // Bed Bugs
    bedbug: [
        '/images/pest-control/bed-bug-removal-jeddah.jpg',
        '/images/pest-control/furniture-fumigation-saudi-bedroom.jpg',
        '/images/pest-control/furniture-pest-cleaning-jeddah.jpg',
    ],
    // Rodent Control
    rodent: [
        '/images/pest-control/rodent-removal-saudi-arabia.jpg',
        '/images/pest-control/rodent-proofing-service-saudi.jpg',
    ],
    // Ant Control
    ant: [
        '/images/pest-control/Ant-control-service-saudi-arabia.jpg',
    ],
    // Snake/Scorpion Control
    snake: [
        '/images/pest-control/snake-scorpion-removal-saudi.jpg',
    ],
    // Commercial Pest Control
    commercial: [
        '/images/pest-control/commercial-pest-control-riyadh.jpg',
        '/images/pest-control/pest-control-warehouses-saudi.jpg',
        '/images/pest-control/pest-control-offices-saudi.jpg',
        '/images/pest-control/pest-control-restaurants-saudi.jpg',
        '/images/pest-control/pest-control-contracts-saudi.jpg',
    ],
    // Residential Pest Control
    residential: [
        '/images/pest-control/residential-pest-management-saudi.jpg',
        '/images/pest-control/pest-control-saudi-homes-residential.jpg',
        '/images/pest-control/pest-treatment-jeddah-residential-yard.jpg',
    ],
    // Eco-Friendly/Organic
    eco: [
        '/images/pest-control/eco-friendly-pest-control-saudi.jpg',
        '/images/pest-control/organic-pest-control-saudi-eco.jpg',
        '/images/pest-control/pest-control-chemicals-safe-saudi.jpg',
    ],
    // Inspection/Prevention
    inspection: [
        '/images/pest-control/pest-inspection-team-saudi.jpg',
        '/images/pest-control/pest-inspection-riyadh-kitchen.jpg',
        '/images/pest-control/pest-inspection-saudi-outdoor-drain.jpg',
        '/images/pest-control/pest-prevention-saudi-arabia.jpg',
        '/images/pest-control/pest-control-maintenance-saudi.jpg',
    ],
    // Mosquito Control
    mosquito: [
        '/images/pest-control/mosquito-control-company-saudi.jpg',
    ],
    // Extermination
    extermination: [
        '/images/pest-control/insect-extermination-jeddah-home.jpg',
        '/images/pest-control/professional-pest-exterminators-saudi.jpg',
        '/images/pest-control/pest-removal-service-saudi.jpg',
    ],
    // Garden/Outdoor
    garden: [
        '/images/pest-control/garden-pest-control-dammam-outdoor.jpg',
    ],
    // Disinfection
    disinfection: [
        '/images/pest-control/disinfection-saudi-living-room.jpg',
        '/images/pest-control/mold-removal-dammam-pest-service.jpg',
    ],
};

// Leak Detection Images (68 total) - City-specific
export const LEAK_DETECTION_IMAGES = {
    // City-specific leak detection
    riyadh: [
        '/images/leak-detection/Riyadh water leak detection Saudi Arabia.jpg',
        '/images/leak-detection/Riyadh ceiling leak emergency repair Saudi Arabia.jpg',
        '/images/leak-detection/Riyadh water damage wall restoration Saudi Arabia.jpg',
        '/images/leak-detection/Riyadh plumbing services Saudi Arabia.jpg',
        '/images/leak-detection/Riyadh thermal leak inspection Saudi Arabia.jpg',
    ],
    jeddah: [
        '/images/leak-detection/Jeddah water leak detection Saudi Arabia.jpg',
        '/images/leak-detection/Jeddah bathroom drain pipe repair Saudi Arabia.jpg',
        '/images/leak-detection/Jeddah copper pipe leak spray Saudi Arabia.jpg',
        '/images/leak-detection/Jeddah plumbing leak repair Saudi Arabia.jpg',
        '/images/leak-detection/Jeddah kitchen leak detection Saudi Arabia.jpg',
    ],
    dammam: [
        '/images/leak-detection/Dammam water leak detection Saudi Arabia.jpg',
        '/images/leak-detection/Dammam roof leak repair Saudi Arabia.jpg',
        '/images/leak-detection/Dammam wall moisture detection mold Saudi Arabia.jpg',
    ],
    makkah: [
        '/images/leak-detection/Makkah water leak detection Saudi Arabia.jpg',
        '/images/leak-detection/Makkah P-trap water leak repair Saudi Arabia.jpg',
        '/images/leak-detection/Makkah pipe leak repair Saudi Arabia.jpg',
        '/images/leak-detection/Makkah water heater installation Saudi Arabia.jpg',
    ],
    madinah: [
        '/images/leak-detection/Madinah water leak detection Saudi Arabia.jpg',
        '/images/leak-detection/Madinah emergency plumber leak repair Saudi Arabia.jpg',
        '/images/leak-detection/Madinah plumber tools equipment bag Saudi Arabia.jpg',
    ],
    taif: [
        '/images/leak-detection/Taif water leak detection Saudi Arabia.jpg',
        '/images/leak-detection/Taif ceiling water damage repair Saudi Arabia.jpg',
    ],
    khobar: [
        '/images/leak-detection/Khobar water leak detection Saudi Arabia.jpg',
        '/images/leak-detection/Khobar water tank leak detection Saudi Arabia.jpg',
        '/images/leak-detection/Khobar licensed plumber expert Saudi Arabia.jpg',
        '/images/leak-detection/Khobar sink trap leak repair Saudi Arabia.jpg',
    ],
    tabuk: [
        '/images/leak-detection/Tabuk water leak detection Saudi Arabia.jpg',
    ],
    qassim: [
        '/images/leak-detection/Qassim water leak detection Saudi Arabia.jpg',
        '/images/leak-detection/Qassim PVC pipe joint leak Saudi Arabia.jpg',
    ],
    hail: [
        '/images/leak-detection/Hail water leak detection Saudi Arabia.jpg',
    ],
    abha: [
        '/images/leak-detection/Abha water leak detection Saudi Arabia.jpg',
        '/images/leak-detection/Abha corroded valve leak repair Saudi Arabia.jpg',
        '/images/leak-detection/Abha outdoor faucet leak repair Saudi Arabia.jpg',
    ],
    najran: [
        '/images/leak-detection/Najran water leak detection Saudi Arabia.jpg',
        '/images/leak-detection/Najran gas pipe installation repair Saudi Arabia.jpg',
    ],
    jazan: [
        '/images/leak-detection/Jazan water leak detection Saudi Arabia.jpg',
        '/images/leak-detection/Jazan ceiling water stain repair Saudi Arabia.jpg',
        '/images/leak-detection/Jazan water valve connection repair Saudi Arabia.jpg',
    ],
    jubail: [
        '/images/leak-detection/Jubail sink drain repair plumber Saudi Arabia.jpg',
        '/images/leak-detection/Jubail plumbing inspection report Saudi Arabia.jpg',
    ],
    yanbu: [
        '/images/leak-detection/Yanbu acoustic leak detector equipment Saudi Arabia.jpg',
    ],
    khamis: [
        '/images/leak-detection/Khamis Mushait underground PVC pipe leak Saudi Arabia.jpg',
    ],
    hofuf: [
        '/images/leak-detection/Hofuf bathroom sink plumbing Saudi Arabia.jpg',
    ],
    buraydah: [
        '/images/leak-detection/Buraydah kitchen sink drain plumber Saudi Arabia.jpg',
    ],
    dhahran: [
        '/images/leak-detection/Dhahran ultrasonic leak detection service Saudi Arabia.jpg',
    ],
    // General leak detection
    general: [
        '/images/leak-detection/Saudi Arabia leak detection services near me.jpg',
    ],
};

// City Hero Images (39 total)
export const CITY_IMAGES: Record<string, string[]> = {
    riyadh: [
        '/images/cities/riyadh/riyadh-furniture-moving-company-truck-loading.jpg',
        '/images/cities/riyadh/riyadh-pest-control-team-spraying.jpg',
        '/images/cities/riyadh/riyadh-cleaning-services-team.jpg',
    ],
    jeddah: [
        '/images/cities/jeddah/jeddah-furniture-moving-professional-team.jpg',
        '/images/cities/jeddah/jeddah-cleaning-services-home.jpg',
        '/images/cities/jeddah/jeddah-pest-control-residential.jpg',
    ],
    makkah: [
        '/images/cities/makkah/makkah-furniture-moving-services.jpg',
        '/images/cities/makkah/makkah-cleaning-company.jpg',
    ],
    madinah: [
        '/images/cities/madinah/madinah-moving-services-team.jpg',
        '/images/cities/madinah/madinah-cleaning-services.jpg',
    ],
    taif: [
        '/images/cities/taif/taif-furniture-moving-truck.jpg',
        '/images/cities/taif/taif-cleaning-team.jpg',
    ],
};

// ============================================
// Smart Image Selection Functions
// ============================================

type ImageCategory = keyof typeof CLEANING_IMAGES | keyof typeof FURNITURE_MOVING_IMAGES | keyof typeof PEST_CONTROL_IMAGES;

/**
 * Get unique images for a city+service page
 * Uses deterministic selection based on city and service slugs to ensure consistency
 * but different images across pages
 */
export function getUniquePageImages(
    citySlug: string,
    serviceSlug: string,
    serviceCategory: string,
    count: number = 4
): string[] {
    // Create a hash from city+service for consistent selection
    const hash = simpleHash(citySlug + serviceSlug);

    let imagePool: string[] = [];

    // Select appropriate image pool based on service category
    switch (serviceCategory) {
        case 'moving':
            imagePool = getMovingImages(serviceSlug);
            break;
        case 'cleaning':
            imagePool = getCleaningImages(serviceSlug);
            break;
        case 'pest-control':
            imagePool = getPestControlImages(serviceSlug, citySlug);
            break;
        case 'leak-detection':
        case 'insulation':
            imagePool = getLeakDetectionImages(citySlug);
            break;
        case 'sewage':
            imagePool = [...CLEANING_IMAGES.bathroom, ...CLEANING_IMAGES.outdoor];
            break;
        default:
            imagePool = Object.values(CLEANING_IMAGES).flat();
    }

    // Select unique images using hash-based offset
    const selected: string[] = [];
    const startIndex = hash % imagePool.length;

    for (let i = 0; i < count && i < imagePool.length; i++) {
        const index = (startIndex + i) % imagePool.length;
        selected.push(imagePool[index]);
    }

    return selected;
}

/**
 * Get moving-related images based on specific service
 */
function getMovingImages(serviceSlug: string): string[] {
    switch (serviceSlug) {
        case 'furniture-moving':
            return [
                ...FURNITURE_MOVING_IMAGES.general,
                ...FURNITURE_MOVING_IMAGES.professional,
                ...FURNITURE_MOVING_IMAGES.villa,
            ];
        case 'furniture-storage':
            return [
                ...FURNITURE_MOVING_IMAGES.storage,
                ...FURNITURE_MOVING_IMAGES.packing,
            ];
        case 'dyna':
        case 'dabab':
            return [
                ...FURNITURE_MOVING_IMAGES.trucks,
                ...FURNITURE_MOVING_IMAGES.fast,
            ];
        case 'moving-out':
            return [
                ...FURNITURE_MOVING_IMAGES.intercity,
                ...FURNITURE_MOVING_IMAGES.heavy,
            ];
        default:
            return Object.values(FURNITURE_MOVING_IMAGES).flat();
    }
}

/**
 * Get cleaning-related images based on specific service
 */
function getCleaningImages(serviceSlug: string): string[] {
    const serviceToCategory: Record<string, (keyof typeof CLEANING_IMAGES)[]> = {
        'cleaning': ['home', 'commercial'],
        'tanks-cleaning': ['tank', 'bathroom'],
        'sofa-cleaning': ['sofa', 'steam'],
        'carpet-cleaning': ['carpet', 'steam'],
        'steam-cleaning': ['steam', 'carpet', 'sofa'],
        'sanitization': ['sterilization'],
        'air-conditioner-cleaning': ['ac', 'commercial'],
        'glass-facades-cleaning': ['glass', 'outdoor'],
        'floor-cleaning': ['floor'],
        'floor-polishing': ['floor', 'marble'],
        'marble-polishing': ['marble', 'floor'],
        'villas-cleaning': ['villa', 'home'],
        'apartments-cleaning': ['apartment', 'home'],
        'palaces-cleaning': ['villa', 'home'],
        'shops-cleaning': ['commercial', 'floor'],
        'office-cleaning': ['office', 'commercial'],
        'furniture-cleaning': ['sofa', 'mattress'],
        'kitchen-cleaning': ['kitchen'],
        'swimming-pool-cleaning': ['pool', 'outdoor'],
        'councils-cleaning': ['majlis', 'sofa'],
        'hourly-cleaning': ['hourly', 'home'],
        'oven-cleaning': ['kitchen'],
        'restaurant-chimney-cleaning': ['restaurant', 'kitchen'],
        'auto-cleaning': ['outdoor', 'commercial'],
    };

    const categories = serviceToCategory[serviceSlug] || ['home', 'commercial'];
    return categories.flatMap(cat => CLEANING_IMAGES[cat] || []);
}

/**
 * Get pest control images based on service and city
 */
function getPestControlImages(serviceSlug: string, citySlug: string): string[] {
    const serviceToCategory: Record<string, (keyof typeof PEST_CONTROL_IMAGES)[]> = {
        'pest-control': ['general', 'residential', 'commercial'],
        'pesticide-spraying': ['fumigation', 'spraying'],
        'insects-spraying': ['spraying', 'extermination'],
        'termite-control': ['termite'],
        'cockroach-control': ['cockroach', 'spraying'],
        'bedbugs-control': ['bedbug'],
        'rodent-control': ['rodent'],
        'ants-control': ['ant', 'spraying'],
        'bird-control': ['inspection', 'eco'],
        'snakes-control': ['snake', 'garden'],
    };

    const categories = serviceToCategory[serviceSlug] || ['general'];
    let images = categories.flatMap(cat => PEST_CONTROL_IMAGES[cat] || []);

    // Add city-specific images for major cities
    if (['riyadh', 'jeddah', 'dammam'].includes(citySlug)) {
        const cityImages = PEST_CONTROL_IMAGES.general.filter(img =>
            img.toLowerCase().includes(citySlug)
        );
        images = [...cityImages, ...images];
    }

    return images;
}

/**
 * Get leak detection images for a city
 */
function getLeakDetectionImages(citySlug: string): string[] {
    // Map city slugs to our image keys
    const cityMap: Record<string, keyof typeof LEAK_DETECTION_IMAGES> = {
        'riyadh': 'riyadh',
        'jeddah': 'jeddah',
        'dammam': 'dammam',
        'makkah': 'makkah',
        'madinah': 'madinah',
        'taif': 'taif',
        'al-khobar': 'khobar',
        'tabuk': 'tabuk',
        'qassim': 'qassim',
        'hail': 'hail',
        'abha': 'abha',
        'najran': 'najran',
        'jazan': 'jazan',
        'jubail': 'jubail',
        'yanbu': 'yanbu',
        'khamis-mushait': 'khamis',
        'al-ahsa': 'hofuf',
        'buraidah': 'buraydah',
        'dhahran': 'dhahran',
    };

    const cityKey = cityMap[citySlug];
    if (cityKey && LEAK_DETECTION_IMAGES[cityKey]) {
        return [
            ...LEAK_DETECTION_IMAGES[cityKey],
            ...LEAK_DETECTION_IMAGES.general,
        ];
    }

    // Fallback to general + nearby city images
    return [
        ...LEAK_DETECTION_IMAGES.general,
        ...LEAK_DETECTION_IMAGES.riyadh,
        ...LEAK_DETECTION_IMAGES.jeddah,
    ];
}

/**
 * Simple hash function for deterministic selection
 */
function simpleHash(str: string): number {
    let hash = 0;
    for (let i = 0; i < str.length; i++) {
        const char = str.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash; // Convert to 32bit integer
    }
    return Math.abs(hash);
}

/**
 * Get hero image for a city page
 */
export function getCityHeroImage(citySlug: string, index: number = 0): string {
    const cityImages = CITY_IMAGES[citySlug];
    if (cityImages && cityImages.length > 0) {
        return cityImages[index % cityImages.length];
    }
    // Fallback to other-cities
    return '/images/cities/other-cities/saudi-services-professional-team.jpg';
}

/**
 * Get primary image for a service page (non-city-specific)
 */
export function getServicePrimaryImage(serviceSlug: string, serviceCategory: string): string {
    const images = getCleaningImages(serviceSlug);
    if (images.length > 0) {
        return images[0];
    }

    // Fallback by category
    switch (serviceCategory) {
        case 'moving':
            return FURNITURE_MOVING_IMAGES.general[0];
        case 'pest-control':
            return PEST_CONTROL_IMAGES.general[0];
        case 'leak-detection':
            return LEAK_DETECTION_IMAGES.riyadh[0];
        default:
            return CLEANING_IMAGES.commercial[0];
    }
}
